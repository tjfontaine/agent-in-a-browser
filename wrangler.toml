name = "agent-in-a-browser"
main = "worker/index.js"
compatibility_date = "2025-12-22"
workers_dev = false
account_id = "687f8b8c824af34922f7bb4d1776f1a7"

# Custom Domain - Cloudflare automatically manages DNS and certificates
routes = [{ pattern = "agent.edge-agent.dev", custom_domain = true }]

# Static assets configuration - serve from frontend/dist
# run_worker_first = true ensures Worker code runs for ALL requests
# This is required for the Worker to add COOP/COEP headers for SharedArrayBuffer
[assets]
directory = "frontend/dist"
binding = "ASSETS"
html_handling = "auto-trailing-slash"
run_worker_first = true

# Observability configuration for better logging
[observability]
enabled = true
head_sampling_rate = 1.0
