services:
  e2e-test:
    build:
      context: ..
      dockerfile: frontend/Dockerfile.e2e
      # Enable BuildKit for faster builds
      args:
        BUILDKIT_INLINE_CACHE: 1
    environment:
      - CI=true
    volumes:
      - ./test-results:/app/frontend/test-results
      - ./playwright-report:/app/frontend/playwright-report
      # Mount turbo cache for faster rebuilds
      - turbo-cache:/app/.turbo

volumes:
  turbo-cache:
