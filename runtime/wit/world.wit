package mcp:ts-runtime@0.2.0;

/// TypeScript Runtime MCP Server with HTTP interface
/// Uses standard WASI interfaces for all functionality
world ts-runtime-mcp {
  // WASI core IO (all interfaces to prevent adapter injection)
  import wasi:io/error@0.2.9;
  import wasi:io/poll@0.2.9;
  import wasi:io/streams@0.2.9;
  
  // WASI filesystem
  import wasi:filesystem/types@0.2.9;
  import wasi:filesystem/preopens@0.2.9;
  
  // WASI clocks
  import wasi:clocks/wall-clock@0.2.9;
  import wasi:clocks/monotonic-clock@0.2.9;
  
  // WASI random (all interfaces to prevent adapter injection)
  import wasi:random/random@0.2.9;
  import wasi:random/insecure@0.2.9;
  import wasi:random/insecure-seed@0.2.9;
  
  // WASI HTTP
  import wasi:http/types@0.2.9;
  import wasi:http/outgoing-handler@0.2.9;
  
  // WASI CLI (all interfaces to prevent adapter injection)
  import wasi:cli/environment@0.2.9;
  import wasi:cli/exit@0.2.9;
  import wasi:cli/stdin@0.2.9;
  import wasi:cli/stdout@0.2.9;
  import wasi:cli/stderr@0.2.9;
  import wasi:cli/terminal-input@0.2.9;
  import wasi:cli/terminal-output@0.2.9;
  import wasi:cli/terminal-stdin@0.2.9;
  import wasi:cli/terminal-stdout@0.2.9;
  import wasi:cli/terminal-stderr@0.2.9;
  
  // WASI sockets (all interfaces to prevent adapter injection)
  import wasi:sockets/network@0.2.9;
  import wasi:sockets/udp@0.2.9;
  import wasi:sockets/tcp@0.2.9;
  import wasi:sockets/ip-name-lookup@0.2.9;
  
  // Module loader import - frontend provides this for lazy loading
  import mcp:module-loader/loader@0.1.0;
  
  // HTTP handler export - for MCP JSON-RPC requests
  export wasi:http/incoming-handler@0.2.9;
  
  // Interactive shell export - for interactive REPL mode
  export shell:unix/command@0.1.0;
}
